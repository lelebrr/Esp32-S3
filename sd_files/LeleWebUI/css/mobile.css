/* ═══════════════════════════════════════════════════════════════════════════
   WAVEPWN MOBILE STYLES - Design Otimizado para Celulares
   ═══════════════════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════════════════════
   MOBILE MENU BUTTON - Hamburger
   ═══════════════════════════════════════════════════════════════════════════ */
.mobile-menu-btn {
    display: none;
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1100;
    width: 44px;
    height: 44px;
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--primary, #00fff5);
    border-radius: 8px;
    color: var(--primary, #00fff5);
    font-size: 1.5rem;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 15px rgba(0, 255, 245, 0.4);
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

.mobile-menu-btn:active {
    transform: scale(0.95);
    background: var(--primary, #00fff5);
    color: #000;
}

/* ═══════════════════════════════════════════════════════════════════════════
   SIDEBAR OVERLAY
   ═══════════════════════════════════════════════════════════════════════════ */
.sidebar-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 1040;
    opacity: 0;
    transition: opacity 0.3s ease;
    -webkit-tap-highlight-color: transparent;
}

.sidebar-overlay.active {
    display: block;
    opacity: 1;
}

/* ═══════════════════════════════════════════════════════════════════════════
   MOBILE BREAKPOINT - 768px e menor
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {

    /* === LAYOUT PRINCIPAL === */
    html {
        font-size: 14px;
    }

    body {
        overflow-x: hidden;
    }

    #app {
        flex-direction: column;
    }

    /* === HAMBURGER MENU VISÍVEL === */
    .mobile-menu-btn {
        display: flex !important;
    }

    /* === SIDEBAR MOBILE === */
    .sidebar {
        position: fixed !important;
        top: 0 !important;
        left: -100% !important;
        width: 85vw !important;
        max-width: 300px !important;
        min-width: auto !important;
        height: 100vh !important;
        z-index: 1050 !important;
        background: rgba(10, 10, 15, 0.98) !important;
        border-right: 2px solid var(--primary, #00fff5) !important;
        transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        overflow-y: auto !important;
        padding: 20px 15px !important;
        backdrop-filter: blur(20px) !important;
        box-shadow: 5px 0 30px rgba(0, 0, 0, 0.8) !important;
    }

    .sidebar.open {
        left: 0 !important;
    }

    /* === BRAND / LOGO NO SIDEBAR === */
    .sidebar .brand {
        padding: 15px 10px !important;
        margin-bottom: 20px !important;
        border-bottom: 1px solid rgba(0, 255, 245, 0.2) !important;
    }

    .sidebar .brand .brand-logo {
        width: 100% !important;
        max-width: 180px !important;
        height: auto !important;
    }

    /* === NAV LINKS MOBILE === */
    .nav-links {
        padding: 0 !important;
    }

    .nav-links li {
        margin-bottom: 4px !important;
    }

    .nav-links a,
    .nav-links button {
        padding: 14px 12px !important;
        font-size: 0.9rem !important;
        border-radius: 8px !important;
        gap: 12px !important;
    }

    .nav-links .icon {
        font-size: 1.2rem !important;
        min-width: 28px !important;
    }

    /* === MAIN CONTENT MOBILE === */
    .main-content {
        width: 100% !important;
        margin-left: 0 !important;
    }

    /* === HEADER MOBILE === */
    .header {
        height: 56px !important;
        padding: 0 15px 0 60px !important;
        position: sticky !important;
        top: 0 !important;
        z-index: 100 !important;
        background: rgba(10, 10, 15, 0.95) !important;
        backdrop-filter: blur(10px) !important;
    }

    .header h1 {
        font-size: 1rem !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }

    /* Esconder stats do header no mobile */
    .header-stats {
        display: none !important;
    }

    /* === CONTENT AREA MOBILE === */
    .content-area {
        padding: 12px !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* === GRIDS MOBILE - Uma coluna === */
    .grid,
    .grid-2,
    .grid-3,
    .grid-4,
    .grid-auto {
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
    }

    /* === CARDS MOBILE === */
    .card {
        padding: 14px !important;
        border-radius: 10px !important;
        margin-bottom: 0 !important;
    }

    .card-header {
        margin-bottom: 12px !important;
        padding-bottom: 10px !important;
    }

    .card-header h3 {
        font-size: 0.8rem !important;
    }

    /* === STAT CARDS MOBILE === */
    .stat-card {
        padding: 14px !important;
        text-align: center !important;
    }

    .stat-card .value {
        font-size: 1.8rem !important;
    }

    .stat-card .label {
        font-size: 0.7rem !important;
    }

    .stat-card .icon {
        font-size: 1.5rem !important;
    }

    /* === STATS GRID MOBILE - 2 colunas === */
    .stats-grid,
    #dashboard .grid-4 {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    /* === BUTTONS MOBILE === */
    .btn {
        padding: 12px 16px !important;
        font-size: 0.8rem !important;
        width: 100% !important;
        justify-content: center !important;
    }

    .btn-lg {
        padding: 14px 20px !important;
        font-size: 0.9rem !important;
    }

    .btn-sm {
        padding: 8px 12px !important;
        font-size: 0.7rem !important;
    }

    .btn-pwn {
        padding: 18px !important;
        font-size: 1.1rem !important;
    }

    /* === NETWORK LIST MOBILE === */
    .network-item {
        padding: 12px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 8px !important;
    }

    .network-item .network-info {
        width: 100% !important;
    }

    .network-item .network-actions {
        width: 100% !important;
        display: flex !important;
        gap: 8px !important;
    }

    .network-item .network-actions .btn {
        flex: 1 !important;
        padding: 10px !important;
    }

    /* === TABLES MOBILE === */
    .table-responsive {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }

    table {
        font-size: 0.75rem !important;
    }

    th,
    td {
        padding: 8px 6px !important;
        white-space: nowrap !important;
    }

    /* === MODALS MOBILE === */
    .modal-content {
        width: 95vw !important;
        max-width: none !important;
        max-height: 90vh !important;
        margin: 5vh auto !important;
        border-radius: 12px !important;
    }

    /* === TABS MOBILE === */
    .tabs {
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        gap: 8px !important;
        padding-bottom: 5px !important;
    }

    .tabs .tab {
        flex-shrink: 0 !important;
        padding: 10px 14px !important;
        font-size: 0.75rem !important;
        white-space: nowrap !important;
    }

    /* === TOOLTIPS MOBILE - Desabilitar hover tooltips === */
    .tooltip-wrap[data-tooltip]::after,
    .tooltip-wrap[data-tooltip]::before {
        display: none !important;
    }

    /* === CHARTS MOBILE === */
    .chart-container {
        height: 180px !important;
        min-height: 150px !important;
    }

    /* === LOG CONTAINER MOBILE === */
    .log-container {
        max-height: 200px !important;
        font-size: 0.7rem !important;
    }

    /* === FORMS MOBILE === */
    input[type="text"],
    input[type="password"],
    input[type="number"],
    input[type="email"],
    select,
    textarea {
        font-size: 16px !important;
        /* Previne zoom no iOS */
        padding: 12px !important;
        width: 100% !important;
    }

    /* === SCROLLBAR MOBILE - Mais fino === */
    ::-webkit-scrollbar {
        width: 4px !important;
        height: 4px !important;
    }

    /* === ANIMAÇÕES MOBILE - Reduzir para performance === */
    .scanlines,
    .scanlines-overlay {
        display: none !important;
    }

    /* Reduzir animações pesadas */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    /* === CONNECTION STATUS MOBILE === */
    .connection-status {
        padding: 10px 12px !important;
        font-size: 0.75rem !important;
    }

    /* === BOOT OVERLAY MOBILE === */
    #boot-overlay .boot-logo img {
        max-width: 60vw !important;
        max-height: 30vh !important;
    }

    #boot-overlay .boot-text {
        font-size: 0.7rem !important;
        max-width: 90vw !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   EXTRA SMALL DEVICES - 480px e menor
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 480px) {
    html {
        font-size: 13px;
    }

    .mobile-menu-btn {
        top: 8px;
        left: 8px;
        width: 40px;
        height: 40px;
        font-size: 1.3rem;
    }

    .header {
        padding-left: 55px !important;
    }

    .header h1 {
        font-size: 0.9rem !important;
    }

    .sidebar {
        width: 90vw !important;
    }

    .content-area {
        padding: 10px !important;
    }

    .card {
        padding: 12px !important;
    }

    .stat-card .value {
        font-size: 1.5rem !important;
    }

    .btn {
        padding: 10px 14px !important;
        font-size: 0.75rem !important;
    }

    /* Stats grid extra pequeno - 2 colunas compactas */
    .stats-grid,
    #dashboard .grid-4 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 8px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   LANDSCAPE MOBILE
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) and (orientation: landscape) {
    .sidebar {
        width: 280px !important;
    }

    .content-area {
        max-height: calc(100vh - 56px);
        overflow-y: auto;
    }

    /* Em landscape, stats podem ser 3 colunas */
    .stats-grid,
    #dashboard .grid-4 {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TOUCH IMPROVEMENTS
   ═══════════════════════════════════════════════════════════════════════════ */
@media (pointer: coarse) {

    /* Aumentar áreas de toque */
    .nav-links a,
    .nav-links button,
    .btn,
    .tab,
    .network-item {
        min-height: 44px;
    }

    /* Remover hover effects em touch devices */
    .card:hover {
        transform: none;
        box-shadow: none;
    }

    .btn:hover {
        transform: none;
    }

    /* Feedback visual no touch */
    .nav-links a:active,
    .nav-links button:active,
    .btn:active,
    .card:active {
        opacity: 0.8;
        transform: scale(0.98);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE TABLES - Mobile Optimized
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {

    /* All table containers get horizontal scroll */
    .table-container,
    div[style*="overflow-x"],
    div[style*="overflow-x:auto"] {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        scrollbar-width: thin;
        margin: 0 -12px;
        padding: 0 12px;
    }

    /* Add scroll fade indicator */
    .table-container::after {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 30px;
        background: linear-gradient(to right, transparent, rgba(10, 10, 15, 0.8));
        pointer-events: none;
    }

    /* Table styling for mobile */
    table {
        min-width: 500px;
        font-size: 0.7rem !important;
    }

    th,
    td {
        padding: 6px 8px !important;
        white-space: nowrap !important;
    }

    /* Hide less important columns on mobile */
    table .hide-mobile,
    th:nth-child(2),
    td:nth-child(2) {
        display: none;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   ATTACK GRID - Mobile Optimized (2 columns)
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    .attack-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 8px !important;
    }

    .attack-grid .btn,
    .attack-grid .attack-btn,
    .attack-grid button {
        padding: 12px 8px !important;
        font-size: 0.7rem !important;
        flex-direction: column !important;
        gap: 4px !important;
        min-height: 60px !important;
    }

    .attack-grid .icon {
        font-size: 1.2rem !important;
    }

    /* Tooltip adjustments for attack buttons */
    .attack-grid .tooltip-wrap .tooltip-text {
        display: none !important;
    }
}

@media (max-width: 480px) {
    .attack-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .attack-grid .btn,
    .attack-grid .attack-btn {
        font-size: 0.65rem !important;
        padding: 10px 6px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   CONNECTION STATUS ENHANCEMENTS
   ═══════════════════════════════════════════════════════════════════════════ */
.connection-status.reconnecting {
    background: rgba(255, 102, 0, 0.2);
    border: 1px solid var(--neon-orange, #ff6600);
}

.connection-status.reconnecting .dot {
    background: var(--neon-orange, #ff6600);
    animation: pulse-fast 0.8s infinite;
}

@keyframes pulse-fast {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.3);
        opacity: 0.5;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PRINT STYLES - Hide non-essential on print
   ═══════════════════════════════════════════════════════════════════════════ */
@media print {

    .sidebar,
    .mobile-menu-btn,
    #background-effects,
    .scanlines-overlay {
        display: none !important;
    }

    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TABLET BREAKPOINT - 1024px
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 1024px) and (min-width: 769px) {
    .sidebar {
        width: 220px !important;
    }

    .main-content {
        margin-left: 220px !important;
    }

    /* Stats grid - 3 columns on tablet */
    .stats-grid,
    #dashboard .grid-4 {
        grid-template-columns: repeat(3, 1fr) !important;
    }

    /* Attack grid - 3 columns on tablet */
    .attack-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }

    .card {
        padding: 16px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   IOT ATTACKS SECTION - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    #iot .grid-2 {
        grid-template-columns: 1fr !important;
    }

    #iot .card {
        margin-bottom: 12px;
    }

    #iot .card-header h4 {
        font-size: 0.85rem !important;
    }

    #iot p {
        font-size: 0.7rem !important;
        padding: 8px !important;
    }

    #iot .btn {
        padding: 10px !important;
        font-size: 0.75rem !important;
    }

    /* AUTO Script progress bar */
    #iot .progress {
        height: 15px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   GAMING & CONSOLE SECTION - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    #gaming .grid-2 {
        grid-template-columns: 1fr !important;
    }

    #gaming .card {
        margin-bottom: 12px;
    }

    #gaming .card-header h4 {
        font-size: 0.85rem !important;
    }

    #gaming p {
        font-size: 0.7rem !important;
    }

    /* Amiibo select */
    #gaming select {
        font-size: 14px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   FAULT INJECTION SECTION - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    #fault .grid-2 {
        grid-template-columns: 1fr !important;
    }

    #fault .card-header h3 {
        font-size: 0.9rem !important;
    }

    #fault select,
    #fault input {
        font-size: 14px !important;
        padding: 10px !important;
    }

    #fault .btn {
        padding: 12px !important;
        font-size: 0.85rem !important;
    }

    /* Glitch parameters side by side on mobile */
    #fault .form-group label {
        font-size: 0.75rem !important;
    }

    /* Hardware info grid */
    #fault .card:last-child .grid-2 {
        grid-template-columns: 1fr !important;
        gap: 15px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   HELP SECTION - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    #help table {
        font-size: 0.7rem !important;
    }

    #help th,
    #help td {
        padding: 6px !important;
    }

    #help h4 {
        font-size: 0.9rem !important;
    }

    /* WebSocket commands box */
    #help div[style*="monospace"] {
        font-size: 0.65rem !important;
        padding: 10px !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   BLE PENTEST & APP ATTACKS - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    /* BLE Pentest section */
    #ble .card[style*="border: 2px solid #bd00ff"] .grid-2,
    #ble .card[style*="border: 2px solid #ff6600"] .grid-2 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    #ble .card[style*="border: 2px"] .btn {
        padding: 10px 6px !important;
        font-size: 0.65rem !important;
        flex-direction: column !important;
    }

    #ble .card[style*="border: 2px"] .icon {
        font-size: 1.1rem !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   MITM ATTACKS - Responsive
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
    /* MITM section in WiFi attacks */
    .card[style*="border: 2px solid #ff6600"] .grid-2 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .card[style*="border: 2px solid #ff6600"] .btn {
        padding: 10px 6px !important;
        font-size: 0.65rem !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   UNIVERSAL GRID IMPROVEMENTS
   ═══════════════════════════════════════════════════════════════════════════ */
.grid {
    display: grid;
}

.grid-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
}

.gap-1 { gap: 5px; }
.gap-2 { gap: 10px; }
.gap-3 { gap: 15px; }

.p-2 { padding: 10px; }
.p-3 { padding: 15px; }
.mt-2 { margin-top: 10px; }
.mt-3 { margin-top: 15px; }
.mb-3 { margin-bottom: 15px; }

/* ═══════════════════════════════════════════════════════════════════════════
   VERY SMALL DEVICES - 360px and below (Galaxy Fold, etc)
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 360px) {
    html {
        font-size: 12px;
    }

    .mobile-menu-btn {
        width: 36px;
        height: 36px;
        font-size: 1.1rem;
    }

    .header h1 {
        font-size: 0.8rem !important;
    }

    .card {
        padding: 10px !important;
    }

    .btn {
        padding: 8px 10px !important;
        font-size: 0.7rem !important;
    }

    .attack-grid {
        grid-template-columns: 1fr !important;
    }

    .stats-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SAFE AREA INSETS (for notched phones)
   ═══════════════════════════════════════════════════════════════════════════ */
@supports (padding: max(0px)) {
    .sidebar {
        padding-top: max(20px, env(safe-area-inset-top)) !important;
        padding-left: max(15px, env(safe-area-inset-left)) !important;
    }

    .content-area {
        padding-bottom: max(12px, env(safe-area-inset-bottom)) !important;
    }

    .mobile-menu-btn {
        top: max(10px, env(safe-area-inset-top)) !important;
        left: max(10px, env(safe-area-inset-left)) !important;
    }
}