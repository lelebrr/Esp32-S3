; ESP32-S3 CYD N16R8 Additional Board Configuration
; This file extends the main environment with specific overrides

[CYD-S3-OPI-FULL]
; Full OPI mode with maximum performance
; Use this for N16R8 modules with confirmed OPI PSRAM
build_flags =
	${CYD_S3_base.build_flags}
	-DCONFIG_SPIRAM_MODE_OCT=1
	-DCONFIG_SPIRAM_SPEED_80M=1
	-DDEVICE_NAME='"CYD-S3-OPI"'

[CYD-S3-QPI-FALLBACK]
; Fallback QPI mode for N8R8 modules
; Use if OPI is unstable
build_flags =
	${CYD_S3_base.build_flags}
	-DCONFIG_SPIRAM_MODE_QUAD=1
	-DCONFIG_SPIRAM_SPEED_80M=1
	-DDEVICE_NAME='"CYD-S3-QPI"'

; Debug build with verbose logging
[env:CYD-S3-N16R8-DEBUG]
extends = CYD_S3_base
build_type = debug
build_flags =
	${CYD_S3_base.build_flags}
	-DDEVICE_NAME='"CYD-S3-DEBUG"'
	-DCORE_DEBUG_LEVEL=4
	-DLOG_LEVEL=4
	-DCONFIG_LOG_DEFAULT_LEVEL=4
lib_deps =
	${CYD_S3_base.lib_deps}
	fastled/FastLED@^3.10.3

; Lite version for memory-constrained scenarios
[env:CYD-S3-N8R8-LITE]
extends = CYD_S3_base
board_build.partitions = custom_8Mb.csv
build_flags =
	${CYD_S3_base.build_flags}
	-DDEVICE_NAME='"CYD-S3-LITE"'
	-DLITE_VERSION=1
	-DCONFIG_SPIRAM_MODE_QUAD=1
lib_deps =
	${env_light.lib_deps}
	fastled/FastLED@^3.10.3
