`n#ifndef VOICE_RECOGNITION_H`n#define VOICE_RECOGNITION_H`n`n#include <Arduino.h>`n#include "tts_advanced.h"`n`n// Voice recognition states`nenum VoiceRecState {`n    VOICE_IDLE = 0,`n    VOICE_LISTENING = 1,`n    VOICE_PROCESSING = 2,`n    VOICE_RECOGNIZED = 3,`n    VOICE_ERROR = 4`n};`n`n// Natural language commands`nstruct NaturalCommand {`n    String command_text;`n    VoiceCommand action;`n    float confidence;`n    String parameters[3]; // For complex commands like "attack wifi network"`n};`n`n// Voice recognition functions`nbool init_voice_recognition();`nvoid start_voice_listening();`nvoid stop_voice_listening();`nVoiceRecState get_voice_rec_state();`nNaturalCommand process_voice_input();`n`n// Personalized voice training`nbool init_voice_training();`nbool start_voice_training(String user_name);`nbool add_voice_sample(String phrase);`nbool finish_voice_training();`nbool is_voice_personalized();`nString get_personalized_voice_name();`n`n// Advanced feedback`nvoid speak_attack_feedback_detailed(int attack_type, bool success, int duration_ms, int packets_sent);`nvoid speak_system_status_detailed();`nvoid speak_battery_status();`nvoid speak_location_based_greeting();`n`n// Smart wake phrases`nbool add_custom_wake_phrase(String phrase);`nbool remove_custom_wake_phrase(String phrase);`nString* get_custom_wake_phrases(int* count);`n`n// Voice activity detection`nbool is_voice_activity_detected();`nvoid set_voice_activity_threshold(float threshold);`nfloat get_current_voice_level();`n`n#endif // VOICE_RECOGNITION_H
